<div class="row text-xs-center">
  <h1>Mes voyages</h1>
</div>
<br>
<br>
<% if @trips.count > 0 %>
  <div class="row text-xs-right">
    <%= link_to "<i class='fa fa-upload'></i> Importer de Nomad List".html_safe, import_nomad_lists_path, class:"btn btn-outline-primary" %>
    <%= link_to "<i class='fa fa-plus'></i> Ajouter un voyage".html_safe, new_trip_path, class:"btn btn-outline-primary" %>
  </div>

</div>
<br>
<br>
<div class="row">
  <div class="container">
    <table class="table">
    <thead>
      <tr>
        <th>Destination</th>
        <th>DÃ©but</th>
        <th>Fin</th>
        <th>Transport</th>
        <th>Participant(s)</th>
      </tr>
    </thead>
    <% @trips.each do |trip| %>
    <tbody>
    <tr class="trips_content">
        <td><%= trip.destination %></td>
        <td><%= trip.start_date %></td>
        <td><%= trip.end_date %></td>
        <td>
          <% if trip.transportations.empty? %>
              <%= link_to 'Ajouter', new_trip_transportation_path(trip) %>
            <% else %>
              <% trip.transportations.each do |transport| %>
                <% if transport.transportation_type == "Avion" %>
                  <%= link_to "<i class='fa fa-plane color-link' aria-hidden='true'></i>".html_safe, trip_transportation_path(trip, transport) %>
                <% elsif transport.transportation_type == "Train" %>
                  <%= link_to "<i class='fa fa-train color-link' aria-hidden='true'>".html_safe, trip_transportation_path(trip, transport) %></i>
                <% elsif transport.transportation_type == "Voiture" %>
                  <%= link_to "<i class='fa fa-car color-link' aria-hidden='true'>".html_safe, trip_transportation_path(trip, transport) %></i>
                <% elsif transport.transportation_type == "Bateau" %>
                  <%= link_to "<i class='fa fa-ship color-link' aria-hidden='true'>".html_safe, trip_transportation_path(trip, transport) %></i>
                <% elsif transport.transportation_type == "Bus" %>
                  <%= link_to "<i class='fa fa-bus color-link' aria-hidden='true'>".html_safe, trip_transportation_path(trip, transport) %></i>
                <% else %>
                  <%= link_to transport.transportation_type, trip_transportation_path(trip, transport), class:"color-link" %>
                <% end  %>
              <% end %>
            <% end %>
        </td>
        <td>
        <% if trip.users.empty? %>
          <%= current_user.first_name  %>
        <% else %>
          <% trip.users.each do |user| %>
             <%= user.first_name %>
          <% end %>
        <% end %>
        </td>
      </tr>
    </tbody>
  <% end %>
  </table>
  </div>
</div>
<% else %>
<div class="row">
  <div class="col-sm-6">
    <%= link_to 'Ajouter mon premier voyage', new_trip_path, class: "btn btn-outline-primary" %>
  </div>
  <div class="col-sm-6 text-xs-right">
    <%= link_to 'Importer de Nomad List', import_nomad_lists_path, class: "btn btn-outline-primary" %>
  </div>

</div>

<% end %>
